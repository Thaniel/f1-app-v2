<mat-dialog-content>
    <form autocomplete="off" [formGroup]="passwordForm" (ngSubmit)="onSubmit()" class="form-container">
        <mat-form-field>
            <mat-label>Old password</mat-label>
            <input matInput [type]="hideOldPassword ? 'password' : 'text'" required formControlName="oldPassword"
                placeholder="Old password" />
            <button type="button" mat-icon-button matSuffix (click)="toggleOldPasswordVisibility()"
                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideOldPassword">
                <mat-icon>{{hideOldPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <span *ngIf="isInvalidCredential('oldPassword'); else requiredOldPassword" class="form-text text-danger">
                The old password is incorrect
            </span>
            <ng-template #requiredOldPassword>
                <span *ngIf="isValidField('oldPassword')" class="form-text text-danger">The password must be greater
                    than 6 characters</span>
            </ng-template>
        </mat-form-field>

        <mat-form-field>
            <mat-label>New password</mat-label>
            <input matInput [type]="hideNewPassword ? 'password' : 'text'" required formControlName="newPassword"
                placeholder="New password" />
            <button type="button" mat-icon-button matSuffix (click)="toggleNewPasswordVisibility()"
                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideNewPassword">
                <mat-icon>{{hideNewPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <span *ngIf="isValidField('newPassword')" class="form-text text-danger">The password must be greater
                than 6 characters</span>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Repeat new password</mat-label>
            <input matInput [type]="hideNewPasswordRepeat ? 'password' : 'text'" required
                formControlName="newPasswordRepeated" placeholder="Repeat new password" />
            <button type="button" mat-icon-button matSuffix (click)="toggleNewPasswordRepeatVisibility()"
                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideNewPasswordRepeat">
                <mat-icon>{{hideNewPasswordRepeat ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <span *ngIf="isValidField('newPasswordRepeated')" class="form-text text-danger">Passwords must be
                equals</span>
        </mat-form-field>
    </form>
</mat-dialog-content>

<mat-dialog-actions class="d-flex justify-content-end mb-2">
    <app-cancel-save-buttons (cancel)="cancel()" (save)="save()"></app-cancel-save-buttons>
</mat-dialog-actions>